<svg viewBox="0 0 2000 1600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-size: 52px; font-weight: bold; fill: #232F3E; }
      .subtitle { font-size: 20px; fill: #666; }
      .section-title { font-size: 20px; fill: white; font-weight: bold; }
      .label { font-size: 15px; fill: white; font-weight: 600; }
      .card-text { font-size: 14px; fill: #333; }
      .small-text { font-size: 13px; fill: #666; }
      .arrow-label { font-size: 14px; fill: #FF9900; font-weight: bold; }
      .instance-label { font-size: 14px; fill: white; font-weight: bold; }
      
      .gradient-dns { fill: url(#grad-dns); }
      .gradient-elastic { fill: url(#grad-elastic); }
      .gradient-security { fill: url(#grad-security); }
      .gradient-alb { fill: url(#grad-alb); }
      .gradient-asg { fill: url(#grad-asg); }
      .gradient-app { fill: url(#grad-app); }
      
      .arrow { stroke: #FF9900; stroke-width: 3.5; fill: none; marker-end: url(#arrowhead); }
      .interaction-arrow { stroke: #4CAF50; stroke-width: 3; fill: none; marker-end: url(#arrowhead-green); stroke-dasharray: 5,5; }
    </style>
    
    <linearGradient id="grad-dns" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#9C27B0;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#6A1B9A;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="grad-elastic" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FF9900;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#E68A00;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="grad-security" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#2196F3;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1565C0;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="grad-alb" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FF5722;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#D84315;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="grad-asg" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4CAF50;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2E7D32;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="grad-app" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#00BCD4;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00838F;stop-opacity:1" />
    </linearGradient>
    
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#FF9900" />
    </marker>
    
    <marker id="arrowhead-green" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#4CAF50" />
    </marker>
    
    <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
      <feDropShadow dx="0" dy="4" stdDeviation="5" flood-opacity="0.25"/>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="2000" height="1600" fill="#f8f9fa"/>
  
  <!-- Header -->
  <rect x="0" y="0" width="2000" height="110" fill="white" stroke="#ddd" stroke-width="2"/>
  <text x="1000" y="55" text-anchor="middle" class="title">AWS Architecture - Mangetamain Streamlit</text>
  <text x="1000" y="95" text-anchor="middle" class="subtitle">Production Ready | Auto-Scaling &amp; Load Balancing | Region: eu-west-3 (Paris)</text>
  
  <!-- ============ LAYER 1: INTERNET ============ -->
  <rect x="50" y="130" width="1900" height="100" rx="12" fill="#E3F2FD" stroke="#2196F3" stroke-width="3"/>
  <text x="1000" y="170" text-anchor="middle" class="section-title" fill="#1565C0" font-size="20">üåê INTERNET - Users Access Application</text>
  <text x="1000" y="200" text-anchor="middle" class="card-text" fill="#1565C0" font-weight="bold">Users worldwide access: mangetamain.com or 13.37.60.84:8501</text>
  
  <!-- Arrow down -->
  <path d="M 1000 230 L 1000 275" class="arrow"/>
  <text x="1035" y="255" class="arrow-label">HTTP Request</text>
  
  <!-- ============ LAYER 2: DNS & ELASTIC IP ============ -->
  <g filter="url(#shadow)">
    <!-- Route 53 DNS -->
    <rect x="70" y="285" width="420" height="185" rx="12" class="gradient-dns"/>
    <text x="280" y="320" text-anchor="middle" class="label" font-size="18">üéØ Route 53 (DNS)</text>
    <line x1="80" y1="335" x2="480" y2="335" stroke="rgba(255,255,255,0.4)" stroke-width="2"/>
    <text x="90" y="365" class="label" fill="white" font-size="14">Domain: mangetamain.com</text>
    <text x="90" y="392" class="label" fill="white" font-size="14">A Record Points to Elastic IP</text>
    <text x="90" y="419" class="label" fill="white" font-size="14">TTL: 300 seconds</text>
    <text x="90" y="446" class="label" fill="white" font-size="14">Health Checks: ‚úì Enabled</text>
  </g>
  
  <!-- Arrow right -->
  <path d="M 490 377 L 590 377" class="arrow"/>
  <text x="530" y="365" class="arrow-label" text-anchor="middle">resolves to</text>
  
  <!-- Elastic IP -->
  <g filter="url(#shadow)">
    <rect x="590" y="285" width="420" height="185" rx="12" class="gradient-elastic"/>
    <text x="800" y="320" text-anchor="middle" class="label" font-size="18">üîí Elastic IP</text>
    <line x1="600" y1="335" x2="1000" y2="335" stroke="rgba(255,255,255,0.4)" stroke-width="2"/>
    <text x="610" y="365" class="label" fill="white" font-size="14">Public IP: 13.37.60.84</text>
    <text x="610" y="392" class="label" fill="white" font-size="14">‚úì Permanently Fixed</text>
    <text x="610" y="419" class="label" fill="white" font-size="14">Never changes on restart</text>
    <text x="610" y="446" class="label" fill="white" font-size="14">Cost: Free (when in use)</text>
  </g>
  
  <!-- Arrow right -->
  <path d="M 1010 377 L 1110 377" class="arrow"/>
  <text x="1050" y="365" class="arrow-label" text-anchor="middle">attached to</text>
  
  <!-- VPC & Security -->
  <g filter="url(#shadow)">
    <rect x="1110" y="285" width="420" height="185" rx="12" class="gradient-security"/>
    <text x="1320" y="320" text-anchor="middle" class="label" font-size="18">üõ°Ô∏è VPC &amp; Security</text>
    <line x1="1120" y1="335" x2="1520" y2="335" stroke="rgba(255,255,255,0.4)" stroke-width="2"/>
    <text x="1130" y="365" class="label" fill="white" font-size="14">Security Group: sg-0e01</text>
    <text x="1130" y="392" class="label" fill="white" font-size="14">Ports: 80, 443, 8501, 22</text>
    <text x="1130" y="419" class="label" fill="white" font-size="14">Private IP: 172.31.39.71</text>
    <text x="1130" y="446" class="label" fill="white" font-size="14">CIDR: 172.31.0.0/16</text>
  </g>
  
  <!-- Arrow down -->
  <path d="M 1000 470 L 1000 515" class="arrow"/>
  <text x="1035" y="495" class="arrow-label">Firewall ‚úì Pass</text>
  
  <!-- ============ LAYER 3: LOAD BALANCER ============ -->
  <g filter="url(#shadow)">
    <rect x="70" y="525" width="1860" height="170" rx="12" class="gradient-alb"/>
    <text x="1000" y="565" text-anchor="middle" class="label" font-size="20">‚öñÔ∏è Application Load Balancer (ALB)</text>
    <line x1="80" y1="580" x2="1920" y2="580" stroke="rgba(255,255,255,0.4)" stroke-width="2"/>
    <text x="90" y="610" class="label" fill="white" font-size="14">Listen Ports: 80/443  ‚Üí  Forward to: 8501  |  Algorithm: Round-robin distribution</text>
    <text x="90" y="637" class="label" fill="white" font-size="14">Health Checks: Every 30s  |  Auto-Failover: ‚úì Enabled  |  Sticky Sessions: Optional</text>
    <text x="90" y="664" class="label" fill="white" font-size="14">Connected to: Auto-Scaling Group  |  Manages: 1-5 EC2 instances  |  Capacity: 5000+ concurrent users</text>
  </g>
  
  <!-- Arrow down -->
  <path d="M 1000 695 L 1000 740" class="arrow"/>
  <text x="1035" y="720" class="arrow-label">Distribute Traffic</text>
  
  <!-- ============ LAYER 4: AUTO-SCALING GROUP ============ -->
  <!-- Outer container -->
  <rect x="70" y="750" width="1860" height="320" rx="12" fill="#F1F8E9" stroke="#4CAF50" stroke-width="4"/>
  
  <!-- Title -->
  <text x="1000" y="790" text-anchor="middle" class="label" fill="#1B5E20" font-size="22">üîÑ Auto-Scaling Group (ASG)</text>
  <line x1="80" y1="805" x2="1920" y2="805" stroke="rgba(76,175,80,0.4)" stroke-width="2"/>
  
  <!-- Configuration info -->
  <text x="1000" y="840" text-anchor="middle" class="card-text" fill="#1B5E20" font-weight="bold">Min: 1 | Max: 5 instances | t3.medium (2 vCPU, 4GB RAM) | Ubuntu 24.04 LTS | Python 3.12.3</text>
  <text x="1000" y="865" text-anchor="middle" class="card-text" fill="#1B5E20">‚¨ÜÔ∏è Scale UP: CPU &gt; 70% for 2 min  |  ‚¨áÔ∏è Scale DOWN: CPU &lt; 30% for 5 min</text>
  <text x="1000" y="890" text-anchor="middle" class="card-text" fill="#1B5E20">Storage: EBS 50GB (gp3 SSD) | Streamlit Port: 8501 | Auto-start on system boot</text>
  
  <!-- Instances container (centered) -->
  <g>
    <!-- Instance 1 -->
    <g filter="url(#shadow)">
      <rect x="130" y="920" width="260" height="90" rx="8" class="gradient-app"/>
      <text x="260" y="945" text-anchor="middle" class="instance-label" font-size="16">üñ•Ô∏è Instance 1</text>
      <line x1="140" y1="955" x2="380" y2="955" stroke="rgba(255,255,255,0.4)" stroke-width="1.5"/>
      <text x="145" y="975" class="label" fill="white" font-size="12">i-09eabc4755ed5c771</text>
      <text x="145" y="995" class="label" fill="white" font-size="12">Status: ‚úì Always Running</text>
    </g>
    
    <!-- Instance 2 -->
    <g filter="url(#shadow)">
      <rect x="440" y="920" width="260" height="90" rx="8" class="gradient-app" opacity="0.85"/>
      <text x="570" y="945" text-anchor="middle" class="instance-label" font-size="16">üñ•Ô∏è Instance 2</text>
      <line x1="450" y1="955" x2="690" y2="955" stroke="rgba(255,255,255,0.4)" stroke-width="1.5"/>
      <text x="455" y="975" class="label" fill="white" font-size="12">Auto-launched when needed</text>
      <text x="455" y="995" class="label" fill="white" font-size="12">Scales on high traffic</text>
    </g>
    
    <!-- Instance 3 -->
    <g filter="url(#shadow)">
      <rect x="750" y="920" width="260" height="90" rx="8" class="gradient-app" opacity="0.7"/>
      <text x="880" y="945" text-anchor="middle" class="instance-label" font-size="16">üñ•Ô∏è Instance 3</text>
      <line x1="760" y1="955" x2="1000" y2="955" stroke="rgba(255,255,255,0.4)" stroke-width="1.5"/>
      <text x="765" y="975" class="label" fill="white" font-size="12">Auto-launched on surge</text>
      <text x="765" y="995" class="label" fill="white" font-size="12">Peak traffic handling</text>
    </g>
    
    <!-- Instance 4 -->
    <g filter="url(#shadow)">
      <rect x="1060" y="920" width="260" height="90" rx="8" class="gradient-app" opacity="0.55"/>
      <text x="1190" y="945" text-anchor="middle" class="instance-label" font-size="16">üñ•Ô∏è Instance 4</text>
      <line x1="1070" y1="955" x2="1310" y2="955" stroke="rgba(255,255,255,0.4)" stroke-width="1.5"/>
      <text x="1075" y="975" class="label" fill="white" font-size="12">Only on heavy load</text>
      <text x="1075" y="995" class="label" fill="white" font-size="12">Auto-terminated when idle</text>
    </g>
    
    <!-- Instance 5 -->
    <g filter="url(#shadow)">
      <rect x="1370" y="920" width="260" height="90" rx="8" class="gradient-app" opacity="0.4"/>
      <text x="1500" y="945" text-anchor="middle" class="instance-label" font-size="16">üñ•Ô∏è Instance 5</text>
      <line x1="1380" y1="955" x2="1620" y2="955" stroke="rgba(255,255,255,0.4)" stroke-width="1.5"/>
      <text x="1385" y="975" class="label" fill="white" font-size="12">Maximum capacity</text>
      <text x="1385" y="995" class="label" fill="white" font-size="12">Rare: extreme traffic</text>
    </g>
  </g>
  
  <!-- ALB distribution arrows -->
  <path d="M 550 695 L 260 920" class="interaction-arrow" />
  <path d="M 800 695 L 570 920" class="interaction-arrow" />
  <path d="M 1000 695 L 880 920" class="interaction-arrow" />
  <path d="M 1200 695 L 1190 920" class="interaction-arrow" />
  <path d="M 1450 695 L 1500 920" class="interaction-arrow" />
  
  <!-- Scaling info -->
  <text x="1000" y="1045" text-anchor="middle" class="card-text" fill="#1B5E20" font-weight="bold">Each instance runs independent Streamlit server | All connected via shared EBS data</text>
  
  <!-- Arrow down -->
  <path d="M 1000 1080 L 1000 1125" class="arrow"/>
  <text x="1035" y="1105" class="arrow-label">Execute</text>
  
  <!-- ============ LAYER 5: STREAMLIT APPLICATION ============ -->
  <g filter="url(#shadow)">
    <rect x="70" y="1135" width="1860" height="160" rx="12" fill="#FFF9C4" stroke="#F57F17" stroke-width="3"/>
    <text x="1000" y="1175" text-anchor="middle" class="label" fill="#3E2723" font-size="20">üç≥ Streamlit Application (All Instances)</text>
    <line x1="80" y1="1190" x2="1920" y2="1190" stroke="rgba(63,39,35,0.2)" stroke-width="2"/>
    <text x="1000" y="1220" text-anchor="middle" class="card-text" fill="#3E2723" font-weight="bold">Data Files: RAW_recipes.csv (294MB) + RAW_interactions.csv (349MB) = 643MB total</text>
    <text x="1000" y="1245" text-anchor="middle" class="card-text" fill="#3E2723">Dependencies: scikit-learn ‚Ä¢ plotly ‚Ä¢ matplotlib ‚Ä¢ seaborn ‚Ä¢ pandas ‚Ä¢ numpy</text>
    <text x="1000" y="1270" text-anchor="middle" class="card-text" fill="#3E2723">Features: üìä Data Explorer ‚Ä¢ üìà Visualizations ‚Ä¢ üéØ Clustering ‚Ä¢ ‚öôÔ∏è Configuration ‚Ä¢ üçΩÔ∏è Recipe Analysis ‚Ä¢ üë• User Interactions</text>
  </g>
  
  <!-- Arrow down -->
  <path d="M 1000 1295 L 1000 1340" class="arrow"/>
  <text x="1035" y="1320" class="arrow-label">Render UI</text>
  
  <!-- ============ LAYER 6: USER BROWSER ============ -->
  <rect x="70" y="1350" width="1860" height="120" rx="12" fill="#E8F5E9" stroke="#4CAF50" stroke-width="3"/>
  <text x="1000" y="1390" text-anchor="middle" class="label" fill="#1B5E20" font-size="20">‚úì User's Browser - Interactive Web Application</text>
  <line x1="80" y1="1405" x2="1920" y2="1405" stroke="rgba(76,175,80,0.3)" stroke-width="2"/>
  <text x="1000" y="1435" text-anchor="middle" class="card-text" fill="#1B5E20" font-weight="bold">Real-time Dashboard ‚Ä¢ Multi-user Support ‚Ä¢ Session Persistence ‚Ä¢ High Availability ‚Ä¢ Zero Downtime</text>
  
  <!-- ============ LEGEND ============ -->
  <rect x="70" y="1480" width="1860" height="60" fill="white" stroke="#ddd" stroke-width="2" rx="8"/>
  <text x="95" y="1510" class="card-text" font-weight="bold" fill="#232F3E">üìã LEGEND:</text>
  
  <rect x="260" y="1495" width="20" height="20" fill="#9C27B0"/>
  <text x="290" y="1510" class="card-text" font-size="13">DNS &amp; Domain  ‚Ä¢</text>
  
  <rect x="530" y="1495" width="20" height="20" fill="#FF9900"/>
  <text x="560" y="1510" class="card-text" font-size="13">Elastic IP (Fixed)  ‚Ä¢</text>
  
  <rect x="800" y="1495" width="20" height="20" fill="#2196F3"/>
  <text x="830" y="1510" class="card-text" font-size="13">VPC &amp; Security  ‚Ä¢</text>
  
  <rect x="1070" y="1495" width="20" height="20" fill="#FF5722"/>
  <text x="1100" y="1510" class="card-text" font-size="13">Load Balancer (ALB)  ‚Ä¢</text>
  
  <rect x="1380" y="1495" width="20" height="20" fill="#4CAF50"/>
  <text x="1410" y="1510" class="card-text" font-size="13">Auto-Scaling  ‚Ä¢</text>
  
  <rect x="1650" y="1495" width="20" height="20" fill="#00BCD4"/>
  <text x="1680" y="1510" class="card-text" font-size="13">Streamlit Instances</text>
  
  <!-- Line separator -->
  <line x1="70" y1="1530" x2="1930" y2="1530" stroke="#ddd" stroke-width="1"/>
  
  <!-- Arrows legend -->
  <line x1="290" y1="1548" x2="340" y2="1548" stroke="#FF9900" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="355" y="1553" class="card-text" font-size="13">Request Flow  ‚Ä¢</text>
  
  <line x1="730" y1="1548" x2="780" y2="1548" stroke="#4CAF50" stroke-width="2.5" stroke-dasharray="5,5" marker-end="url(#arrowhead-green)"/>
  <text x="795" y="1553" class="card-text" font-size="13">Component Interaction</text>
  
  <!-- ============ KEY METRICS ============ -->
  <rect x="70" y="1565" width="1860" height="20" fill="#FFE082" stroke="#FF9900" stroke-width="2" rx="6"/>
  <text x="1000" y="1580" text-anchor="middle" class="card-text" font-weight="bold" fill="#333">
    üí∞ $100-150/month  |  üöÄ 5000+ concurrent users  |  ‚è±Ô∏è ~0% downtime  |  üìä 643MB data  |  üîÑ Scales 1-5 instances automatically
  </text>
</svg>